EESchema Schematic File Version 2
LIBS:amp
LIBS:avr
LIBS:buttons
LIBS:connectors
LIBS:dc-dc
LIBS:displays
LIBS:drivers
LIBS:logic
LIBS:mems
LIBS:optic
LIBS:passive
LIBS:power
LIBS:rtc
LIBS:sensors
LIBS:speakers
LIBS:transform
LIBS:transist
LIBS:wireless
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Step-motor driver mk.1"
Date "9 dec 2013"
Rev "5"
Comp ""
Comment1 ""
Comment2 "Sergei Ivanov"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L PWR_FLAG #FLG01
U 1 1 521B3363
P 5650 7200
F 0 "#FLG01" H 5650 7400 50  0001 C CNN
F 1 "PWR_FLAG" H 5650 7300 50  0000 C CNN
F 2 "" H 5650 7200 60  0000 C CNN
F 3 "" H 5650 7200 60  0000 C CNN
	1    5650 7200
	-1   0    0    1   
$EndComp
$Comp
L PWR_FLAG #FLG02
U 1 1 521B3362
P 6100 7200
F 0 "#FLG02" H 6100 7400 50  0001 C CNN
F 1 "PWR_FLAG" H 6100 7300 50  0000 C CNN
F 2 "" H 6100 7200 60  0000 C CNN
F 3 "" H 6100 7200 60  0000 C CNN
	1    6100 7200
	-1   0    0    1   
$EndComp
$Comp
L PWR_FLAG #FLG03
U 1 1 521B335E
P 6550 7200
F 0 "#FLG03" H 6550 7400 50  0001 C CNN
F 1 "PWR_FLAG" H 6550 7300 50  0000 C CNN
F 2 "" H 6550 7200 60  0000 C CNN
F 3 "" H 6550 7200 60  0000 C CNN
	1    6550 7200
	-1   0    0    1   
$EndComp
$Comp
L +36V #PWR011
U 1 1 520481B8
P 6100 6950
F 0 "#PWR011" H 6100 7250 50  0001 C CNN
F 1 "+36V" V 6100 7050 50  0000 C CNN
F 2 "" H 6100 6950 60  0000 C CNN
F 3 "" H 6100 6950 60  0000 C CNN
	1    6100 6950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR012
U 1 1 520481AE
P 6550 6950
F 0 "#PWR012" H 6550 7050 50  0001 C CNN
F 1 "GND" H 6550 6800 50  0000 C CNN
F 2 "" H 6550 6950 60  0000 C CNN
F 3 "" H 6550 6950 60  0000 C CNN
	1    6550 6950
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR013
U 1 1 520481AA
P 5650 6950
F 0 "#PWR013" H 5650 6850 50  0001 C CNN
F 1 "+5V" V 5650 7050 50  0000 C CNN
F 2 "" H 5650 6950 60  0000 C CNN
F 3 "" H 5650 6950 60  0000 C CNN
	1    5650 6950
	1    0    0    -1  
$EndComp
$Comp
L DIODE D2
U 1 1 52038662
P 7950 3950
F 0 "D2" H 7950 4100 60  0000 C CNN
F 1 "DIODE" H 7950 3800 60  0000 C CNN
F 2 "" H 7950 3950 60  0000 C CNN
F 3 "" H 7950 3950 60  0000 C CNN
	1    7950 3950
	0    -1   -1   0   
$EndComp
$Comp
L RES R4
U 1 1 52037D7B
P 5900 4400
F 0 "R4" H 5900 4500 60  0000 C CNN
F 1 "0,5" H 5900 4400 60  0000 C CNN
F 2 "" H 5900 4400 60  0000 C CNN
F 3 "" H 5900 4400 60  0000 C CNN
	1    5900 4400
	0    1    1    0   
$EndComp
$Comp
L L298N U2
U 1 1 52037CF2
P 6900 3600
F 0 "U2" H 6550 4200 60  0000 C CNN
F 1 "L298N" H 7100 3100 60  0000 C CNN
F 2 "" H 6900 3600 60  0000 C CNN
F 3 "" H 6900 3600 60  0000 C CNN
	1    6900 3600
	1    0    0    -1  
$EndComp
$Comp
L L297 U1
U 1 1 5200F2D1
P 5200 3400
F 0 "U1" H 4850 4150 60  0000 C CNN
F 1 "L297" H 5450 2700 60  0000 C CNN
F 2 "" H 5200 3400 60  0000 C CNN
F 3 "" H 5200 3400 60  0000 C CNN
	1    5200 3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59BDD736
P 4550 4850
F 0 "#PWR?" H 4700 4900 60  0001 C CNN
F 1 "GND" H 4550 4650 60  0000 C CNN
F 2 "" H 4550 4850 60  0001 C CNN
F 3 "" H 4550 4850 60  0001 C CNN
	1    4550 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 3100 6400 3100
Wire Wire Line
	5650 3200 6400 3200
Wire Wire Line
	5650 3300 6400 3300
Wire Wire Line
	5650 3400 6400 3400
Wire Wire Line
	5650 3600 6400 3600
Wire Wire Line
	5650 3700 6400 3700
Wire Wire Line
	5650 3900 6400 3900
Wire Wire Line
	5650 4000 6400 4000
Wire Wire Line
	4700 4000 4550 4000
Wire Wire Line
	4550 4000 4550 4850
$Comp
L GND #PWR?
U 1 1 59BE9DC6
P 7500 4850
F 0 "#PWR?" H 7650 4900 60  0001 C CNN
F 1 "GND" H 7500 4650 60  0000 C CNN
F 2 "" H 7500 4850 60  0001 C CNN
F 3 "" H 7500 4850 60  0001 C CNN
	1    7500 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 4000 7500 4000
Wire Wire Line
	7500 4000 7500 4850
Wire Wire Line
	6550 6950 6550 7200
Wire Wire Line
	6100 6950 6100 7200
Wire Wire Line
	5650 6950 5650 7200
$Comp
L RES R?
U 1 1 59BED1E7
P 6100 4400
F 0 "R?" H 6100 4500 60  0000 C CNN
F 1 "0,5" H 6100 4400 60  0000 C CNN
F 2 "" H 6100 4400 60  0000 C CNN
F 3 "" H 6100 4400 60  0000 C CNN
	1    6100 4400
	0    1    1    0   
$EndComp
Wire Wire Line
	5900 4150 5900 3900
Connection ~ 5900 3900
Wire Wire Line
	6100 4150 6100 4000
Connection ~ 6100 4000
$Comp
L GND #PWR?
U 1 1 59BEDEF5
P 5900 4850
F 0 "#PWR?" H 6050 4900 60  0001 C CNN
F 1 "GND" H 5900 4650 60  0000 C CNN
F 2 "" H 5900 4850 60  0001 C CNN
F 3 "" H 5900 4850 60  0001 C CNN
	1    5900 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5900 4650 5900 4850
Wire Wire Line
	6100 4750 6100 4650
Wire Notes Line
	5650 4150 5650 4650
Wire Notes Line
	5650 4650 6350 4650
Wire Notes Line
	6350 4650 6350 4150
Wire Notes Line
	6350 4150 5650 4150
Text Notes 6400 4500 0    60   ~ 0
Warning!\nHeat emission.
$Comp
L DIODE D?
U 1 1 59BF2D49
P 8350 3950
F 0 "D?" H 8350 4100 60  0000 C CNN
F 1 "DIODE" H 8350 3800 60  0000 C CNN
F 2 "" H 8350 3950 60  0000 C CNN
F 3 "" H 8350 3950 60  0000 C CNN
	1    8350 3950
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D?
U 1 1 59BF2DB6
P 8750 3950
F 0 "D?" H 8750 4100 60  0000 C CNN
F 1 "DIODE" H 8750 3800 60  0000 C CNN
F 2 "" H 8750 3950 60  0000 C CNN
F 3 "" H 8750 3950 60  0000 C CNN
	1    8750 3950
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D?
U 1 1 59BF2E28
P 9150 3950
F 0 "D?" H 9150 4100 60  0000 C CNN
F 1 "DIODE" H 9150 3800 60  0000 C CNN
F 2 "" H 9150 3950 60  0000 C CNN
F 3 "" H 9150 3950 60  0000 C CNN
	1    9150 3950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7350 3700 9550 3700
Wire Wire Line
	9150 3300 9150 3800
$Comp
L DIODE D?
U 1 1 59BF4052
P 9150 3150
F 0 "D?" H 9150 3300 60  0000 C CNN
F 1 "DIODE" H 9150 3000 60  0000 C CNN
F 2 "" H 9150 3150 60  0000 C CNN
F 3 "" H 9150 3150 60  0000 C CNN
	1    9150 3150
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D?
U 1 1 59BF5411
P 8750 3150
F 0 "D?" H 8750 3300 60  0000 C CNN
F 1 "DIODE" H 8750 3000 60  0000 C CNN
F 2 "" H 8750 3150 60  0000 C CNN
F 3 "" H 8750 3150 60  0000 C CNN
	1    8750 3150
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D?
U 1 1 59BF548E
P 8350 3150
F 0 "D?" H 8350 3300 60  0000 C CNN
F 1 "DIODE" H 8350 3000 60  0000 C CNN
F 2 "" H 8350 3150 60  0000 C CNN
F 3 "" H 8350 3150 60  0000 C CNN
	1    8350 3150
	0    -1   -1   0   
$EndComp
$Comp
L DIODE D?
U 1 1 59BF550A
P 7950 3150
F 0 "D?" H 7950 3300 60  0000 C CNN
F 1 "DIODE" H 7950 3000 60  0000 C CNN
F 2 "" H 7950 3150 60  0000 C CNN
F 3 "" H 7950 3150 60  0000 C CNN
	1    7950 3150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7350 3400 9550 3400
Wire Wire Line
	7950 3300 7950 3800
Wire Wire Line
	7350 3500 9550 3500
Wire Wire Line
	8350 3300 8350 3800
Wire Wire Line
	7350 3600 9550 3600
Wire Wire Line
	8750 3300 8750 3800
Connection ~ 7950 3400
Connection ~ 8350 3500
Connection ~ 8750 3600
Connection ~ 9150 3700
Wire Wire Line
	5900 4750 6100 4750
Connection ~ 5900 4750
$Comp
L GND #PWR?
U 1 1 59BF7C43
P 7950 4850
F 0 "#PWR?" H 8100 4900 60  0001 C CNN
F 1 "GND" H 7950 4650 60  0000 C CNN
F 2 "" H 7950 4850 60  0001 C CNN
F 3 "" H 7950 4850 60  0001 C CNN
	1    7950 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 4100 7950 4850
Wire Wire Line
	8350 4100 8350 4200
Wire Wire Line
	7950 4200 9150 4200
Connection ~ 7950 4200
Wire Wire Line
	8750 4200 8750 4100
Connection ~ 8350 4200
Wire Wire Line
	9150 4200 9150 4100
Connection ~ 8750 4200
$Comp
L +36V #PWR?
U 1 1 59BFA89C
P 7950 2350
F 0 "#PWR?" H 7950 2650 50  0001 C CNN
F 1 "+36V" V 7950 2450 50  0000 C CNN
F 2 "" H 7950 2350 60  0000 C CNN
F 3 "" H 7950 2350 60  0000 C CNN
	1    7950 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 2350 7950 3000
Wire Wire Line
	8350 3000 8350 2900
Wire Wire Line
	7950 2900 9150 2900
Connection ~ 7950 2900
Wire Wire Line
	8750 2900 8750 3000
Connection ~ 8350 2900
Wire Wire Line
	9150 2900 9150 3000
Connection ~ 8750 2900
$Comp
L +5V #PWR?
U 1 1 59C011E4
P 3700 2350
F 0 "#PWR?" H 3700 2250 50  0001 C CNN
F 1 "+5V" V 3700 2450 50  0000 C CNN
F 2 "" H 3700 2350 60  0000 C CNN
F 3 "" H 3700 2350 60  0000 C CNN
	1    3700 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 2350 3700 4100
Wire Wire Line
	3700 4100 3550 4100
$Comp
L GND #PWR?
U 1 1 59C01F28
P 3700 4850
F 0 "#PWR?" H 3850 4900 60  0001 C CNN
F 1 "GND" H 3700 4650 60  0000 C CNN
F 2 "" H 3700 4850 60  0001 C CNN
F 3 "" H 3700 4850 60  0001 C CNN
	1    3700 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 4300 3700 4300
Wire Wire Line
	3700 4300 3700 4850
Wire Wire Line
	3550 4200 4400 4200
Wire Wire Line
	4400 4200 4400 3900
Wire Wire Line
	4400 3900 4700 3900
Text Notes 2750 4550 0    60   ~ 0
Connect to GND for\nINHx control select.
$Comp
L PIN_3 PIN?
U 1 1 59C06F59
P 3550 4300
F 0 "PIN?" H 3800 4250 60  0000 C CNN
F 1 "ctrl_select" H 3900 4150 60  0000 C CNN
F 2 "" H 3500 4300 60  0000 C CNN
F 3 "" H 3500 4300 60  0000 C CNN
	1    3550 4300
	-1   0    0    1   
$EndComp
$Comp
L PIN_6 PIN?
U 1 1 59C07C03
P 4550 3600
F 0 "PIN?" H 4800 3400 60  0000 C CNN
F 1 "drv_ctrl" H 4850 3300 60  0000 C CNN
F 2 "" H 4500 3600 60  0000 C CNN
F 3 "" H 4500 3600 60  0000 C CNN
	1    4550 3600
	-1   0    0    1   
$EndComp
Wire Wire Line
	4550 3100 4700 3100
Wire Wire Line
	4550 3200 4700 3200
Wire Wire Line
	4550 3300 4700 3300
Wire Wire Line
	4550 3400 4700 3400
Wire Wire Line
	4550 3500 4700 3500
Wire Wire Line
	4550 3600 4700 3600
$Comp
L PIN_3 PIN?
U 1 1 59C0D6C2
P 3550 2900
F 0 "PIN?" H 3800 2850 60  0000 C CNN
F 1 "master_select" H 4000 2750 60  0000 C CNN
F 2 "" H 3500 2900 60  0000 C CNN
F 3 "" H 3500 2900 60  0000 C CNN
	1    3550 2900
	-1   0    0    1   
$EndComp
Wire Wire Line
	4700 2800 3550 2800
Wire Wire Line
	3550 2900 4050 2900
Wire Wire Line
	4050 2900 4050 4850
$Comp
L GND #PWR?
U 1 1 59C0DE5D
P 4050 4850
F 0 "#PWR?" H 4200 4900 60  0001 C CNN
F 1 "GND" H 4050 4650 60  0000 C CNN
F 2 "" H 4050 4850 60  0001 C CNN
F 3 "" H 4050 4850 60  0001 C CNN
	1    4050 4850
	1    0    0    -1  
$EndComp
Text Notes 2950 3200 0    60   ~ 0
Connect to GND\nfor slave SYNC.
$Comp
L PIN_2 PIN?
U 1 1 59C11602
P 9550 3400
F 0 "PIN?" H 9800 3400 60  0000 C CNN
F 1 "motor_ab" H 9900 3300 60  0000 C CNN
F 2 "" H 9500 3400 60  0000 C CNN
F 3 "" H 9500 3400 60  0000 C CNN
	1    9550 3400
	1    0    0    -1  
$EndComp
$Comp
L PIN_2 PIN?
U 1 1 59C116A8
P 9550 3600
F 0 "PIN?" H 9800 3600 60  0000 C CNN
F 1 "motor_cd" H 9900 3500 60  0000 C CNN
F 2 "" H 9500 3600 60  0000 C CNN
F 3 "" H 9500 3600 60  0000 C CNN
	1    9550 3600
	1    0    0    -1  
$EndComp
$Comp
L PIN_2 PIN?
U 1 1 59C14CC0
P 4650 6500
F 0 "PIN?" H 4900 6500 60  0000 C CNN
F 1 "input_ttl" H 5000 6400 60  0000 C CNN
F 2 "" H 4600 6500 60  0000 C CNN
F 3 "" H 4600 6500 60  0000 C CNN
	1    4650 6500
	1    0    0    -1  
$EndComp
$Comp
L PIN_2 PIN?
U 1 1 59C152D5
P 4650 6750
F 0 "PIN?" H 4900 6750 60  0000 C CNN
F 1 "input_pwr" H 5000 6650 60  0000 C CNN
F 2 "" H 4600 6750 60  0000 C CNN
F 3 "" H 4600 6750 60  0000 C CNN
	1    4650 6750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 59C1565C
P 4450 7250
F 0 "#PWR?" H 4600 7300 60  0001 C CNN
F 1 "GND" H 4450 7050 60  0000 C CNN
F 2 "" H 4450 7250 60  0001 C CNN
F 3 "" H 4450 7250 60  0001 C CNN
	1    4450 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 6600 4450 6600
Wire Wire Line
	4450 6600 4450 7250
Connection ~ 4450 6850
$Comp
L +5V #PWR?
U 1 1 59C15BBA
P 4250 6400
F 0 "#PWR?" H 4250 6300 50  0001 C CNN
F 1 "+5V" V 4250 6500 50  0000 C CNN
F 2 "" H 4250 6400 60  0000 C CNN
F 3 "" H 4250 6400 60  0000 C CNN
	1    4250 6400
	1    0    0    -1  
$EndComp
$Comp
L +36V #PWR?
U 1 1 59C15C37
P 4100 6400
F 0 "#PWR?" H 4100 6700 50  0001 C CNN
F 1 "+36V" V 4100 6500 50  0000 C CNN
F 2 "" H 4100 6400 60  0000 C CNN
F 3 "" H 4100 6400 60  0000 C CNN
	1    4100 6400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 6400 4250 6500
Wire Wire Line
	3900 6500 4650 6500
Wire Wire Line
	4100 6400 4100 7000
Wire Wire Line
	3500 6750 4650 6750
$Comp
L +5V #PWR?
U 1 1 59C176E6
P 5800 2350
F 0 "#PWR?" H 5800 2250 50  0001 C CNN
F 1 "+5V" V 5800 2450 50  0000 C CNN
F 2 "" H 5800 2350 60  0000 C CNN
F 3 "" H 5800 2350 60  0000 C CNN
	1    5800 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 2800 5650 2800
$Comp
L CAP C?
U 1 1 59C17C31
P 3300 2500
F 0 "C?" H 3300 2650 60  0000 C CNN
F 1 "3n3" H 3300 2350 60  0000 C CNN
F 2 "" H 3300 2500 60  0000 C CNN
F 3 "" H 3300 2500 60  0000 C CNN
	1    3300 2500
	1    0    0    -1  
$EndComp
$Comp
L RES R?
U 1 1 59C18083
P 4700 2500
F 0 "R?" H 4700 2600 60  0000 C CNN
F 1 "22k" H 4700 2500 60  0000 C CNN
F 2 "" H 4700 2500 60  0000 C CNN
F 3 "" H 4700 2500 60  0000 C CNN
	1    4700 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 2700 4050 2700
Wire Wire Line
	4050 2700 4050 2500
Wire Wire Line
	3450 2500 4450 2500
Wire Wire Line
	3150 2500 2750 2500
Wire Wire Line
	2750 2500 2750 3300
Wire Wire Line
	2750 3300 4050 3300
Connection ~ 4050 3300
Connection ~ 4050 2500
Wire Wire Line
	4950 2500 5800 2500
Connection ~ 5800 2500
$Comp
L PIN_1 PIN?
U 1 1 59C1BFE0
P 4550 2900
F 0 "PIN?" H 4800 2950 60  0000 C CNN
F 1 "sync_out" H 4900 2850 60  0000 C CNN
F 2 "" H 4500 2900 60  0000 C CNN
F 3 "" H 4500 2900 60  0000 C CNN
	1    4550 2900
	-1   0    0    1   
$EndComp
Wire Wire Line
	4700 2900 4550 2900
$Comp
L +36V #PWR?
U 1 1 59C1D04C
P 7500 2350
F 0 "#PWR?" H 7500 2650 50  0001 C CNN
F 1 "+36V" V 7500 2450 50  0000 C CNN
F 2 "" H 7500 2350 60  0000 C CNN
F 3 "" H 7500 2350 60  0000 C CNN
	1    7500 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 3100 7500 3100
Wire Wire Line
	7500 3100 7500 2350
$Comp
L +5V #PWR?
U 1 1 59C1DC25
P 7650 2350
F 0 "#PWR?" H 7650 2250 50  0001 C CNN
F 1 "+5V" V 7650 2450 50  0000 C CNN
F 2 "" H 7650 2350 60  0000 C CNN
F 3 "" H 7650 2350 60  0000 C CNN
	1    7650 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 3200 7650 3200
Wire Wire Line
	7650 3200 7650 2350
$Comp
L CAP C?
U 1 1 59C1F491
P 3750 6500
F 0 "C?" H 3750 6650 60  0000 C CNN
F 1 "100n" H 3750 6350 60  0000 C CNN
F 2 "" H 3750 6500 60  0000 C CNN
F 3 "" H 3750 6500 60  0000 C CNN
	1    3750 6500
	1    0    0    -1  
$EndComp
Connection ~ 4250 6500
Wire Wire Line
	3050 6500 3600 6500
$Comp
L GND #PWR?
U 1 1 59C1FE82
P 3050 7250
F 0 "#PWR?" H 3200 7300 60  0001 C CNN
F 1 "GND" H 3050 7050 60  0000 C CNN
F 2 "" H 3050 7250 60  0001 C CNN
F 3 "" H 3050 7250 60  0001 C CNN
	1    3050 7250
	1    0    0    -1  
$EndComp
$Comp
L CAP C?
U 1 1 59C20613
P 3350 6750
F 0 "C?" H 3350 6900 60  0000 C CNN
F 1 "100n" H 3350 6600 60  0000 C CNN
F 2 "" H 3350 6750 60  0000 C CNN
F 3 "" H 3350 6750 60  0000 C CNN
	1    3350 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3050 6750 3200 6750
Connection ~ 4100 6750
$Comp
L CAP_POL C?
U 1 1 59C210A9
P 3750 7000
F 0 "C?" H 3625 7150 60  0000 C CNN
F 1 "470u" H 3750 6850 60  0000 C CNN
F 2 "" H 3750 7000 60  0000 C CNN
F 3 "" H 3750 7000 60  0000 C CNN
	1    3750 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	4100 7000 3900 7000
Wire Wire Line
	4650 6850 4450 6850
Wire Wire Line
	3050 6500 3050 7250
Connection ~ 3050 6750
Wire Wire Line
	3600 7000 3050 7000
Connection ~ 3050 7000
Wire Wire Line
	5800 2350 5800 2800
$EndSCHEMATC
