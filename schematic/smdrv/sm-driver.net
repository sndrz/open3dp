(export (version D)
  (design
    (source D:/home/sivanov37/git/open3dp/schematic/smdrv/sm-driver.sch)
    (date "19.09.2017 13:06:38")
    (tool "Eeschema 4.0.4-stable")
    (sheet (number 1) (name /) (tstamps /)
      (title_block
        (title "Step-motor driver mk.1")
        (company)
        (rev 5)
        (date "9 dec 2013")
        (source sm-driver.sch)
        (comment (number 1) (value ""))
        (comment (number 2) (value "Sergei Ivanov"))
        (comment (number 3) (value ""))
        (comment (number 4) (value "")))))
  (components
    (comp (ref D2)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 52038662))
    (comp (ref R4)
      (value 0,5)
      (footprint other-th-diy:res-5mm-hor)
      (libsource (lib passive) (part RES))
      (sheetpath (names /) (tstamps /))
      (tstamp 52037D7B))
    (comp (ref U2)
      (value L298N)
      (footprint ic-th-diy:multiwatt15-ver)
      (libsource (lib drivers) (part L298N))
      (sheetpath (names /) (tstamps /))
      (tstamp 52037CF2))
    (comp (ref U1)
      (value L297)
      (footprint ic-th-diy:dip-20)
      (libsource (lib drivers) (part L297))
      (sheetpath (names /) (tstamps /))
      (tstamp 5200F2D1))
    (comp (ref R6)
      (value 0,5)
      (footprint other-th-diy:res-5mm-hor)
      (libsource (lib passive) (part RES))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BED1E7))
    (comp (ref PIN2)
      (value ctrl_select)
      (footprint connectors-diy:pin-3)
      (libsource (lib connectors) (part PIN_3))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C06F59))
    (comp (ref PIN4)
      (value drv_ctrl)
      (footprint connectors-diy:pin-6r2)
      (libsource (lib connectors) (part PIN_6))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C07C03))
    (comp (ref PIN1)
      (value master_select)
      (footprint connectors-diy:pin-3)
      (libsource (lib connectors) (part PIN_3))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C0D6C2))
    (comp (ref PIN7)
      (value motor_ab)
      (footprint connectors-diy:dg300-5)
      (libsource (lib connectors) (part PIN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C11602))
    (comp (ref PIN8)
      (value motor_cd)
      (footprint connectors-diy:dg300-5)
      (libsource (lib connectors) (part PIN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C116A8))
    (comp (ref PIN5)
      (value input_ttl)
      (footprint connectors-diy:dg300-5)
      (libsource (lib connectors) (part PIN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C14CC0))
    (comp (ref PIN6)
      (value input_pwr)
      (footprint connectors-diy:pin-2)
      (libsource (lib connectors) (part PIN_2))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C152D5))
    (comp (ref C1)
      (value 3n3)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part CAP))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C17C31))
    (comp (ref R5)
      (value 22k)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part RES))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C18083))
    (comp (ref PIN3)
      (value sync_out)
      (footprint connectors-diy:pin-1)
      (libsource (lib connectors) (part PIN_1))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C1BFE0))
    (comp (ref C3)
      (value 100n)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part CAP))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C1F491))
    (comp (ref C2)
      (value 100n)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part CAP))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C20613))
    (comp (ref C4)
      (value 470u)
      (footprint other-th-diy:capa-polar-6mm-ver)
      (libsource (lib passive) (part CAP_POL))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C210A9))
    (comp (ref D4)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD71B))
    (comp (ref D6)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD772))
    (comp (ref D8)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD7CA))
    (comp (ref D7)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD825))
    (comp (ref D5)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD897))
    (comp (ref D3)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD8F8))
    (comp (ref D1)
      (value FR307)
      (footprint other-th-diy:do-27-hor)
      (libsource (lib passive) (part DIODE))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFD95C))
    (comp (ref R1)
      (value 10k)
      (footprint other-smd-diy:res-1206)
      (libsource (lib sm-driver-rescue) (part RES-POTENT-RESCUE-sm-driver))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFE672))
    (comp (ref R3)
      (value 3k9)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part RES))
      (sheetpath (names /) (tstamps /))
      (tstamp 59BFE8DB))
    (comp (ref LED1)
      (value LED)
      (footprint other-smd-diy:led-1206)
      (libsource (lib optic) (part LED))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C0637B))
    (comp (ref R2)
      (value 4k7)
      (footprint other-smd-diy:res-1206)
      (libsource (lib passive) (part RES))
      (sheetpath (names /) (tstamps /))
      (tstamp 59C0771E)))
  (libparts
    (libpart (lib passive) (part CAP)
      (footprints
        (fp cap_*))
      (fields
        (field (name Reference) C)
        (field (name Value) CAP))
      (pins
        (pin (num 1) (name ~) (type input))
        (pin (num 2) (name ~) (type input))))
    (libpart (lib passive) (part CAP_POL)
      (footprints
        (fp cap_*))
      (fields
        (field (name Reference) C)
        (field (name Value) CAP_POL))
      (pins
        (pin (num 1) (name ~) (type input))
        (pin (num 2) (name ~) (type input))))
    (libpart (lib passive) (part DIODE)
      (fields
        (field (name Reference) D)
        (field (name Value) DIODE))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib drivers) (part L297)
      (footprints
        (fp dip)
        (fp soic))
      (fields
        (field (name Reference) U)
        (field (name Value) L297))
      (pins
        (pin (num 1) (name SYNC) (type passive))
        (pin (num 2) (name GND) (type power_in))
        (pin (num 3) (name HOME) (type passive))
        (pin (num 4) (name A) (type passive))
        (pin (num 5) (name ~INH1) (type passive))
        (pin (num 6) (name B) (type passive))
        (pin (num 7) (name C) (type passive))
        (pin (num 8) (name ~INH2) (type passive))
        (pin (num 9) (name D) (type passive))
        (pin (num 10) (name ENBL) (type passive))
        (pin (num 11) (name CTRL) (type passive))
        (pin (num 12) (name Vss) (type power_in))
        (pin (num 13) (name SENSE2) (type passive))
        (pin (num 14) (name SENS1) (type passive))
        (pin (num 15) (name Vref) (type power_in))
        (pin (num 16) (name OSC) (type passive))
        (pin (num 17) (name CW/~CCW) (type passive))
        (pin (num 18) (name ~CLK) (type passive))
        (pin (num 19) (name HALF/~FULL) (type passive))
        (pin (num 20) (name ~RST) (type passive))))
    (libpart (lib drivers) (part L298N)
      (footprints
        (fp multiwatt15))
      (fields
        (field (name Reference) U)
        (field (name Value) L298N))
      (pins
        (pin (num 1) (name SENSE_A) (type passive))
        (pin (num 2) (name OUT_1) (type power_out))
        (pin (num 3) (name OUT_2) (type power_out))
        (pin (num 4) (name Vs) (type power_in))
        (pin (num 5) (name INPUT_1) (type passive))
        (pin (num 6) (name ENBL_A) (type passive))
        (pin (num 7) (name INPUT_2) (type passive))
        (pin (num 8) (name GND) (type power_in))
        (pin (num 9) (name Vss) (type power_in))
        (pin (num 10) (name INPUT_3) (type passive))
        (pin (num 11) (name ENBL_B) (type passive))
        (pin (num 12) (name INPUT_4) (type passive))
        (pin (num 13) (name OUT_3) (type power_out))
        (pin (num 14) (name OUT_4) (type power_out))
        (pin (num 15) (name SENSE_B) (type passive))))
    (libpart (lib optic) (part LED)
      (footprints
        (fp SMD_*)
        (fp LED_*))
      (fields
        (field (name Reference) LED)
        (field (name Value) LED))
      (pins
        (pin (num 1) (name ANO) (type passive))
        (pin (num 2) (name CAT) (type passive))))
    (libpart (lib connectors) (part PIN_1)
      (footprints
        (fp PIN_1x1*))
      (fields
        (field (name Reference) PIN)
        (field (name Value) PIN_1))
      (pins
        (pin (num 1) (name ~) (type passive))))
    (libpart (lib connectors) (part PIN_2)
      (footprints
        (fp PIN_1x1*))
      (fields
        (field (name Reference) PIN)
        (field (name Value) PIN_2))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib connectors) (part PIN_3)
      (footprints
        (fp PIN_1x1*))
      (fields
        (field (name Reference) PIN)
        (field (name Value) PIN_3))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))))
    (libpart (lib connectors) (part PIN_6)
      (footprints
        (fp PIN_1x1*))
      (fields
        (field (name Reference) PIN)
        (field (name Value) PIN_6))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))
        (pin (num 3) (name ~) (type passive))
        (pin (num 4) (name ~) (type passive))
        (pin (num 5) (name ~) (type passive))
        (pin (num 6) (name ~) (type passive))))
    (libpart (lib passive) (part RES)
      (footprints
        (fp R_*)
        (fp SMD_*))
      (fields
        (field (name Reference) R)
        (field (name Value) RES))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type passive))))
    (libpart (lib sm-driver-rescue) (part RES-POTENT-RESCUE-sm-driver)
      (footprints
        (fp R_*)
        (fp SMD_*))
      (fields
        (field (name Reference) R)
        (field (name Value) RES-POTENT-RESCUE-sm-driver))
      (pins
        (pin (num 1) (name ~) (type passive))
        (pin (num 2) (name ~) (type input))
        (pin (num 3) (name ~) (type passive)))))
  (libraries
    (library (logical sm-driver-rescue)
      (uri D:\home\sivanov37\git\open3dp\schematic\smdrv\sm-driver-rescue.lib))
    (library (logical optic)
      (uri D:\home\sivanov37\git\kicad-lib\libs\optic.lib))
    (library (logical passive)
      (uri D:\home\sivanov37\git\kicad-lib\libs\passive.lib))
    (library (logical connectors)
      (uri D:\home\sivanov37\git\kicad-lib\libs\connectors.lib))
    (library (logical drivers)
      (uri D:\home\sivanov37\git\kicad-lib\libs\drivers.lib)))
  (nets
    (net (code 1) (name +5V)
      (node (ref PIN2) (pin 3))
      (node (ref U2) (pin 9))
      (node (ref PIN5) (pin 1))
      (node (ref R5) (pin 2))
      (node (ref R3) (pin 2))
      (node (ref U1) (pin 12))
      (node (ref C3) (pin 2)))
    (net (code 2) (name "Net-(C1-Pad2)")
      (node (ref C1) (pin 2))
      (node (ref R5) (pin 1))
      (node (ref PIN1) (pin 3)))
    (net (code 3) (name "Net-(PIN3-Pad1)")
      (node (ref U1) (pin 1))
      (node (ref PIN3) (pin 1)))
    (net (code 4) (name GND)
      (node (ref D8) (pin 1))
      (node (ref D6) (pin 1))
      (node (ref D4) (pin 1))
      (node (ref C4) (pin 1))
      (node (ref C2) (pin 1))
      (node (ref C3) (pin 1))
      (node (ref R6) (pin 2))
      (node (ref PIN2) (pin 1))
      (node (ref U1) (pin 2))
      (node (ref U2) (pin 8))
      (node (ref R4) (pin 2))
      (node (ref D2) (pin 1))
      (node (ref PIN1) (pin 1))
      (node (ref C1) (pin 1))
      (node (ref R1) (pin 3))
      (node (ref PIN6) (pin 2))
      (node (ref PIN5) (pin 2))
      (node (ref R2) (pin 1)))
    (net (code 5) (name "Net-(PIN4-Pad2)")
      (node (ref U1) (pin 20))
      (node (ref PIN4) (pin 2)))
    (net (code 6) (name "Net-(PIN4-Pad3)")
      (node (ref U1) (pin 19))
      (node (ref PIN4) (pin 3)))
    (net (code 7) (name "Net-(PIN4-Pad5)")
      (node (ref U1) (pin 18))
      (node (ref PIN4) (pin 5)))
    (net (code 8) (name "Net-(PIN4-Pad6)")
      (node (ref U1) (pin 17))
      (node (ref PIN4) (pin 6)))
    (net (code 9) (name "Net-(PIN4-Pad1)")
      (node (ref U1) (pin 3))
      (node (ref PIN4) (pin 1)))
    (net (code 10) (name "Net-(PIN1-Pad2)")
      (node (ref PIN1) (pin 2))
      (node (ref U1) (pin 16)))
    (net (code 11) (name "Net-(R1-Pad1)")
      (node (ref R3) (pin 1))
      (node (ref R1) (pin 1)))
    (net (code 12) (name "Net-(R1-Pad2)")
      (node (ref U1) (pin 15))
      (node (ref R1) (pin 2)))
    (net (code 13) (name "Net-(LED1-Pad1)")
      (node (ref PIN4) (pin 4))
      (node (ref U1) (pin 10))
      (node (ref LED1) (pin 1)))
    (net (code 14) (name "Net-(LED1-Pad2)")
      (node (ref LED1) (pin 2))
      (node (ref R2) (pin 2)))
    (net (code 15) (name +36V)
      (node (ref C2) (pin 2))
      (node (ref C4) (pin 2))
      (node (ref D5) (pin 2))
      (node (ref D7) (pin 2))
      (node (ref D1) (pin 2))
      (node (ref U2) (pin 4))
      (node (ref D3) (pin 2))
      (node (ref PIN6) (pin 1)))
    (net (code 16) (name "Net-(U1-Pad5)")
      (node (ref U2) (pin 6))
      (node (ref U1) (pin 5)))
    (net (code 17) (name "Net-(U1-Pad6)")
      (node (ref U2) (pin 7))
      (node (ref U1) (pin 6)))
    (net (code 18) (name "Net-(U1-Pad7)")
      (node (ref U2) (pin 10))
      (node (ref U1) (pin 7)))
    (net (code 19) (name "Net-(U1-Pad8)")
      (node (ref U2) (pin 11))
      (node (ref U1) (pin 8)))
    (net (code 20) (name "Net-(U1-Pad9)")
      (node (ref U2) (pin 12))
      (node (ref U1) (pin 9)))
    (net (code 21) (name "Net-(U1-Pad4)")
      (node (ref U2) (pin 5))
      (node (ref U1) (pin 4)))
    (net (code 22) (name "Net-(R4-Pad1)")
      (node (ref U2) (pin 1))
      (node (ref R4) (pin 1))
      (node (ref U1) (pin 14)))
    (net (code 23) (name "Net-(PIN2-Pad2)")
      (node (ref U1) (pin 11))
      (node (ref PIN2) (pin 2)))
    (net (code 24) (name "Net-(R6-Pad1)")
      (node (ref U1) (pin 13))
      (node (ref U2) (pin 15))
      (node (ref R6) (pin 1)))
    (net (code 25) (name "Net-(D1-Pad1)")
      (node (ref D1) (pin 1))
      (node (ref D2) (pin 2))
      (node (ref U2) (pin 2))
      (node (ref PIN7) (pin 1)))
    (net (code 26) (name "Net-(D3-Pad1)")
      (node (ref U2) (pin 3))
      (node (ref D3) (pin 1))
      (node (ref D4) (pin 2))
      (node (ref PIN7) (pin 2)))
    (net (code 27) (name "Net-(D5-Pad1)")
      (node (ref U2) (pin 13))
      (node (ref PIN8) (pin 1))
      (node (ref D6) (pin 2))
      (node (ref D5) (pin 1)))
    (net (code 28) (name "Net-(D7-Pad1)")
      (node (ref D8) (pin 2))
      (node (ref D7) (pin 1))
      (node (ref PIN8) (pin 2))
      (node (ref U2) (pin 14)))))